<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      Jsoup | 她在学习 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="NieNie">
    
    

    <meta name="description" content="要先通过HttpClient得到String，然后再通过Jsoup进行转化（Jsoup.parse(String)）。因为HttpClient是从网上抓取页面使用，并可以设置代理等。在抓取上Jsoup比较弱，API简单，主要功能体现在解析。  可以通过DOM方法遍历文档 查找元素：  getElementById(String id) getElementsByTag(String tag) g">
<meta property="og:type" content="article">
<meta property="og:title" content="Jsoup | 她在学习">
<meta property="og:url" content="http://yoursite.com/2017/08/07/Jsoup/index.html">
<meta property="og:site_name" content="她在学习">
<meta property="og:description" content="要先通过HttpClient得到String，然后再通过Jsoup进行转化（Jsoup.parse(String)）。因为HttpClient是从网上抓取页面使用，并可以设置代理等。在抓取上Jsoup比较弱，API简单，主要功能体现在解析。  可以通过DOM方法遍历文档 查找元素：  getElementById(String id) getElementsByTag(String tag) g">
<meta property="og:updated_time" content="2017-08-11T03:13:39.813Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jsoup | 她在学习">
<meta name="twitter:description" content="要先通过HttpClient得到String，然后再通过Jsoup进行转化（Jsoup.parse(String)）。因为HttpClient是从网上抓取页面使用，并可以设置代理等。在抓取上Jsoup比较弱，API简单，主要功能体现在解析。  可以通过DOM方法遍历文档 查找元素：  getElementById(String id) getElementsByTag(String tag) g">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">她在学习</a></h1>
        <hr class="panel-cover__divider" />

        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/about" title="" class="">关于</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">Jsoup</h1>

    

    <div class="post-meta">
      <time datetime="2017-08-07" class="post-meta__date date">2017-08-07</time> 

      <span class="post-meta__tags tags">

          

          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <ol>
<li><p>要先通过HttpClient得到String，然后再通过Jsoup进行转化（Jsoup.parse(String)）。因为HttpClient是从网上抓取页面使用，并可以设置代理等。在抓取上Jsoup比较弱，API简单，主要功能体现在解析。</p>
</li>
<li><p>可以通过DOM方法遍历文档</p>
<p>查找元素：</p>
<ul>
<li><code>getElementById(String id)</code></li>
<li><code>getElementsByTag(String tag)</code></li>
<li><code>getElementsByClass(String className)</code></li>
<li><code>getElementsByAttribute(String key)</code> (and related methods)</li>
<li>Element siblings: <code>siblingElements()</code>, <code>firstElementSibling()</code>, <code>lastElementSibling()</code>;<code>nextElementSibling()</code>, <code>previousElementSibling()</code></li>
<li>Graph: <code>parent()</code>, <code>children()</code>, <code>child(int index)</code></li>
</ul>
<p>元素数据：</p>
<ul>
<li><code>attr(String key)</code>获取属性<code>attr(String key, String value)</code>设置属性</li>
<li><code>attributes()</code>获取所有属性</li>
<li><code>id()</code>, <code>className()</code> and <code>classNames()</code></li>
<li><code>text()</code>获取文本内容<code>text(String value)</code> 设置文本内容</li>
<li><code>html()</code>获取元素内HTML<code>html(String value)</code>设置元素内的HTML内容</li>
<li><code>outerHtml()</code>获取元素外HTML内容</li>
<li><code>data()</code>获取数据内容（例如：script和style标签)</li>
<li><code>tag()</code> and <code>tagName()</code></li>
</ul>
<p>操作HTML和文本：</p>
<ul>
<li><code>append(String html)</code>, <code>prepend(String html)</code></li>
<li><code>appendText(String text)</code>, <code>prependText(String text)</code></li>
<li><code>appendElement(String tagName)</code>, <code>prependElement(String tagName)</code></li>
<li><code>html(String value)</code></li>
</ul>
</li>
<li><p>使用选择器语法来查找元素</p>
<p>这个相比利用DOM方法，可能出错可能性更小，因为一些Class可能在之前的某个地方出现过，通过getElementByClass() 可能取到其他的class，如果这个class中不包含我们继续要查找的元素，则会报错。所以使用选择器出错的可能性会更小。</p>
<p>可以使用<code>Element.select(String selector)</code> 和 <code>Elements.select(String selector)</code> 方法</p>
<h3 id="Selector选择器概述"><a href="#Selector选择器概述" class="headerlink" title="Selector选择器概述"></a>Selector选择器概述</h3><ul>
<li><code>tagname</code>: 通过标签查找元素，比如：<code>a</code></li>
<li><code>ns|tag</code>: 通过标签在命名空间查找元素，比如：可以用 <code>fb|name</code> 语法来查找 <code>&lt;fb:name&gt;</code> 元素</li>
<li><code>#id</code>: 通过ID查找元素，比如：<code>#logo</code></li>
<li><code>.class</code>: 通过class名称查找元素，比如：<code>.masthead</code></li>
<li><code>[attribute]</code>: 利用属性查找元素，比如：<code>[href]</code></li>
<li><code>[^attr]</code>: 利用属性名前缀来查找元素，比如：可以用<code>[^data-]</code> 来查找带有HTML5 Dataset属性的元素</li>
<li><code>[attr=value]</code>: 利用属性值来查找元素，比如：<code>[width=500]</code></li>
<li><code>[attr^=value]</code>, <code>[attr$=value]</code>, <code>[attr*=value]</code>: 利用匹配属性值开头、结尾或包含属性值来查找元素，比如：<code>[href*=/path/]</code></li>
<li><code>[attr~=regex]</code>: 利用属性值匹配正则表达式来查找元素，比如： <code>img[src~=(?i)\.(png|jpe?g)]</code></li>
<li><code>*</code>: 这个符号将匹配所有元素</li>
</ul>
<h3 id="Selector选择器组合使用"><a href="#Selector选择器组合使用" class="headerlink" title="Selector选择器组合使用"></a>Selector选择器组合使用</h3><ul>
<li><code>el#id</code>: 元素+ID，比如： <code>div#logo</code></li>
<li><code>el.class</code>: 元素+class，比如： <code>div.masthead</code></li>
<li><code>el[attr]</code>: 元素+class，比如： <code>a[href]</code></li>
<li>任意组合，比如：<code>a[href].highlight</code></li>
<li><code>ancestor child</code>: 查找某个元素下子元素，比如：可以用<code>.body p</code> 查找在”body”元素下的所有 <code>p</code>元素</li>
<li><code>parent &gt; child</code>: 查找某个父元素下的直接子元素，比如：可以用<code>div.content &gt; p</code> 查找 <code>p</code> 元素，也可以用<code>body &gt; *</code> 查找body标签下所有直接子元素</li>
<li><code>siblingA + siblingB</code>: 查找在A元素之前第一个同级元素B，比如：<code>div.head + div</code></li>
<li><code>siblingA ~ siblingX</code>: 查找A元素之前的同级X元素，比如：<code>h1 ~ p</code></li>
<li><code>el, el, el</code>:多个选择器组合，查找匹配任一选择器的唯一元素，例如：<code>div.masthead, div.logo</code></li>
</ul>
<h3 id="伪选择器selectors"><a href="#伪选择器selectors" class="headerlink" title="伪选择器selectors"></a>伪选择器selectors</h3><ul>
<li><code>:lt(n)</code>: 查找哪些元素的同级索引值（它的位置在DOM树中是相对于它的父节点）小于n，比如：<code>td:lt(3)</code> 表示小于三列的元素</li>
<li><code>:gt(n)</code>:查找哪些元素的同级索引值大于<code>n``，比如</code>： <code>div p:gt(2)</code>表示哪些div中有包含2个以上的p元素</li>
<li><code>:eq(n)</code>: 查找哪些元素的同级索引值与<code>n</code>相等，比如：<code>form input:eq(1)</code>表示包含一个input标签的Form元素</li>
<li><code>:has(seletor)</code>: 查找匹配选择器包含元素的元素，比如：<code>div:has(p)</code>表示哪些div包含了p元素</li>
<li><code>:not(selector)</code>: 查找与选择器不匹配的元素，比如： <code>div:not(.logo)</code> 表示不包含 class=logo 元素的所有 div 列表</li>
<li><code>:contains(text)</code>: 查找包含给定文本的元素，搜索不区分大不写，比如： <code>p:contains(jsoup)</code></li>
<li><code>:containsOwn(text)</code>: 查找直接包含给定文本的元素</li>
<li><code>:matches(regex)</code>: 查找哪些元素的文本匹配指定的正则表达式，比如：<code>div:matches((?i)login)</code></li>
<li><code>:matchesOwn(regex)</code>: 查找自身包含文本匹配指定正则表达式的元素</li>
<li>注意：上述伪选择器索引是从0开始的，也就是说第一个元素索引值为0，第二个元素index为1等</li>
</ul>
</li>
<li><p>从元素中抽取属性、文本和HTML</p>
<ul>
<li>要取得一个属性的值，可以使用<code>Node.attr(String key)</code> 方法</li>
<li>对于一个元素中的文本，可以使用<code>Element.text()</code>方法</li>
<li>对于要取得元素或属性中的HTML内容，可以使用<code>Element.html()</code>, 或 <code>Node.outerHtml()</code>方法</li>
</ul>
</li>
<li><p>处理URLs</p>
<ol>
<li>在你解析文档时确保有指定<code>base URI</code>，然后</li>
<li>使用 <code>abs:</code> 属性前缀来取得包含<code>base URI</code>的绝对路径。代码如下： </li>
</ol>
</li>
<li><p>设置属性的值</p>
<p>可以使用属性设置方法 <code>Element.attr(String key, String value)</code>, 和 <code>Elements.attr(String key, String value)</code>.</p>
<p>假如你需要修改一个元素的 <code>class</code> 属性，可以使用 <code>Element.addClass(String className)</code> 和 <code>Element.removeClass(String className)</code> 方法。</p>
<p><code>Elements</code> 提供了批量操作元素属性和class的方法</p>
</li>
<li><p>设置一个元素的HTML内容</p>
<ul>
<li><code>Element.html(String html)</code> 这个方法将先清除元素中的HTML内容，然后用传入的HTML代替。</li>
<li><code>Element.prepend(String first)</code> 和 <code>Element.append(String last)</code> 方法用于在分别在元素内部HTML的前面和后面添加HTML内容</li>
<li><code>Element.wrap(String around)</code> 对元素包裹一个外部HTML内容。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Element div = doc.select(&quot;div&quot;).first(); // &lt;div&gt;&lt;/div&gt;</div><div class="line">div.html(&quot;&lt;p&gt;lorem ipsum&lt;/p&gt;&quot;); // &lt;div&gt;&lt;p&gt;lorem ipsum&lt;/p&gt;&lt;/div&gt;</div><div class="line">div.prepend(&quot;&lt;p&gt;First&lt;/p&gt;&quot;);//在div前添加html内容</div><div class="line">div.append(&quot;&lt;p&gt;Last&lt;/p&gt;&quot;);//在div之后添加html内容</div><div class="line">// 添完后的结果: &lt;div&gt;&lt;p&gt;First&lt;/p&gt;&lt;p&gt;lorem ipsum&lt;/p&gt;&lt;p&gt;Last&lt;/p&gt;&lt;/div&gt;</div><div class="line"></div><div class="line">Element span = doc.select(&quot;span&quot;).first(); // &lt;span&gt;One&lt;/span&gt;</div><div class="line">span.wrap(&quot;&lt;li&gt;&lt;a href=&apos;http://example.com/&apos;&gt;&lt;/a&gt;&lt;/li&gt;&quot;);</div><div class="line">// 添完后的结果: &lt;li&gt;&lt;a href=&quot;http://example.com&quot;&gt;&lt;span&gt;One&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>设置元素的文本内容</p>
<ul>
<li><code>Element.text(String text)</code> 将清除一个元素中的内部HTML内容，然后提供的文本进行代替</li>
<li><code>Element.prepend(String first)</code> 和 <code>Element.append(String last)</code> 将分别在元素的内部html前后添加文本节点。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Element div = doc.select(&quot;div&quot;).first(); // &lt;div&gt;&lt;/div&gt;</div><div class="line">div.text(&quot;five &gt; four&quot;); // &lt;div&gt;five &amp;gt; four&lt;/div&gt;</div><div class="line">div.prepend(&quot;First &quot;);</div><div class="line">div.append(&quot; Last&quot;);</div><div class="line">// now: &lt;div&gt;First five &amp;gt; four Last&lt;/div&gt;</div></pre></td></tr></table></figure></li>
</ol>

  </section>

  <section class="post-comments">

    <!-- 将评论系统（例如Disqus、多说、友言、畅言等）提供的代码片段粘贴在这里 -->
    
</section>


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
